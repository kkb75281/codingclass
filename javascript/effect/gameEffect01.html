<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gameEffect01</title>

    <link rel="stylesheet" href="../assets/css/game.css">
    <link rel="stylesheet" href="../assets/css/music.css">
    <link rel="stylesheet" href="../assets/css/searchgame.css">
    <link rel="stylesheet" href="../assets/css/memory.css">
</head>

<body>
    <div class="cursor">
        <img src="../assets/img/game_cursor_icon11.png" alt="마우스">
    </div>

    <header id="header">
        <h1>gameEffect</h1>
        <div class="time"></div>
    </header>
    <!-- // header -->

    <!-- <div class="icon_iframe">
        <a href="#" class="code_close"><img src="../assets/img/code_close.png" alt=""></a>
        <iframe src="https://github1s.com/kkb75281/codingclass" frameborder="0"></iframe>
    </div> -->

    <main id="main">
        <div class="icon_box">
            <div class="icon i1">
                <img src="../assets/img/game_folder_icon11.png" alt="뮤직">
                <span>Music</span>
            </div>
            <div class="icon i2">
                <img src="../assets/img/game_folder_icon12.png" alt="2">
                <span>Search</span>
            </div>
            <div class="icon i3">
                <img src="../assets/img/game_folder_icon12.png" alt="3">
                <span>Memory</span>
            </div>
            <div class="icon i4">
                <img src="../assets/img/game_folder_icon12.png" alt="4">
                <span>ccc</span>
            </div>
            <div class="icon i5">
                <img src="../assets/img/game_folder_icon12.png" alt="5">
                <span>ddd</span>
            </div>
            <div class="icon i6"><a href="https://github.com/kkb75281/codingclass/blob/main/javascript/effect/gameEffect01.html">
                <img src="../assets/img/game_folder_icon16.png" alt="코드보기"></a>
                <span>Code</span>
            </div>
        </div>
    </main>
    <!-- // main -->

    <footer id="footer">
        <div class="agent"></div>
        <!-- <div class="icon_iframe">
            <a href="#" class="code_close"><img src="../assets/img/code_close.png" alt=""></a>
            <iframe src="https://github1s.com/kkb75281/codingclass" frameborder="0"></iframe>
        </div> -->
    </footer>
    <!-- // footer -->

    <div class="game__box">
        <!-- music player -->
        <div class="music__wrap">
            <div class="music__inner">
                <div class="music__header">
                    <div>***</div>
                    <h2>Music Player</h2>
                    <div>+++</div>
                </div>
                <div class="music__contents">
                    <div class="music__view">
                        <div class="img">
                            <img src="../assets/img/music_view01.png" alt="">
                        </div>
                        <div class="title">
                            <h3>A Year Ago</h3>
                            <p>NETFFEX</p>
                        </div>
                        <div class="volume">
                            <input type="range" id="volume-control" min="0.1" max="10">
                        </div>
                    </div>
                    <div class="music__control">
                        <div class="progress">
                            <div class="bar">
                                <audio id="main-audio" src="../assets/audio/music_audio01.mp3"></audio>
                            </div>
                            <div class="timer">
                                <span class="current">0:00</span>
                                <span class="duration">4:00</span>
                            </div>
                        </div>
                        <div class="control">
                            <i title="전체 반복" class="repeat" id="control-repeat"></i>
                            <!-- <i title="한곡 반복" class="repeat_one"></i>
                            <i title="랜덤 반복" class="shuffle"></i> -->
                            <i title="이전곡 재생" class="prev" id="control-prev"></i>
                            <div class="center">
                                <i title="재생" class="play" id="control-play"></i>
                                <!-- <i title="정지" class="stop"></i> -->
                            </div>
                            <i title="다음곡 재생" class="next" id="control-next"></i>
                            <i title="재생 목록" class="list" id="control-list"></i>
                        </div>
                    </div>
                </div>
                <div class="music__footer">
                    <div class="music__list">
                        <h3><span class="list"></span>뮤직 리스트<a href="#" class="close"></a></h3>
                        <ul>
                            <!-- <li>
                                <strong>제목</strong>
                                <em>아티스트</em>
                                <span>재생시간</span>
                            </li> -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- //music player -->

        <!-- search_game -->
        <div class="search__wrap">
            <div class="search__inner">
                <div class="search__audio">
                    <span class="play">
                        <svg width="100" height="100" viewBox="0 0 100 100" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M68.75 62.5C70.6523 58.7089 71.875 54.5293 71.875 50C71.875 45.4082 70.7031 41.3281 68.75 37.5M78.125 71.875C81.9297 65.2343 84.375 59.375 84.375 50C84.375 40.625 82.0312 34.8242 78.125 28.125M30.791 37.5H17.1875C16.7731 37.5 16.3757 37.6646 16.0826 37.9576C15.7896 38.2506 15.625 38.6481 15.625 39.0625V60.9375C15.625 61.3519 15.7896 61.7493 16.0826 62.0423C16.3757 62.3353 16.7731 62.5 17.1875 62.5H30.791C31.5133 62.5003 32.2131 62.7509 32.7715 63.2089L50.6367 77.8574C50.8697 78.0287 51.1456 78.1321 51.4338 78.1559C51.722 78.1797 52.0112 78.1231 52.2691 77.9923C52.5271 77.8615 52.7436 77.6617 52.8947 77.4151C53.0458 77.1685 53.1256 76.8849 53.125 76.5957V23.4043C53.1248 23.1154 53.0446 22.8322 52.8932 22.5862C52.7418 22.3402 52.5252 22.141 52.2674 22.0107C52.0096 21.8804 51.7207 21.8241 51.4329 21.848C51.145 21.872 50.8694 21.9753 50.6367 22.1464L32.7715 36.7949C32.2126 37.2516 31.5128 37.5007 30.791 37.5V37.5Z"
                                stroke="white" stroke-width="6.25" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </span>
                    <span class="stop">
                        <svg width="100" height="100" viewBox="0 0 100 100" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M46.416 37.5H32.8125C32.3981 37.5 32.0007 37.6646 31.7076 37.9576C31.4146 38.2506 31.25 38.6481 31.25 39.0625V60.9375C31.25 61.3519 31.4146 61.7493 31.7076 62.0423C32.0007 62.3353 32.3981 62.5 32.8125 62.5H46.416C47.1383 62.5003 47.8381 62.7509 48.3965 63.2089L66.2617 77.8574C66.4947 78.0287 66.7706 78.1321 67.0588 78.1559C67.347 78.1797 67.6362 78.1231 67.8941 77.9923C68.1521 77.8615 68.3686 77.6617 68.5197 77.4151C68.6708 77.1685 68.7506 76.8849 68.75 76.5957V23.4043C68.7498 23.1154 68.6696 22.8322 68.5182 22.5862C68.3668 22.3402 68.1502 22.141 67.8924 22.0107C67.6346 21.8804 67.3457 21.8241 67.0579 21.848C66.77 21.872 66.4944 21.9753 66.2617 22.1464L48.3965 36.7949C47.8376 37.2516 47.1378 37.5007 46.416 37.5V37.5Z"
                                stroke="white" stroke-width="6.25" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </span>
                    <audio id="audio" src="../assets/audio/search_game_bg.mp3" loop="loop"></audio>
                </div>

                <span>CSS 속성 외우고 1등하자!</span>
                <h1>누가누가 더 많이?</h1>

                <div class="timer">
                    <span>2:00</span>
                </div>

                <div class="search__box">
                    <label for="search">검색하기</label>
                    <input type="text" id="search" placeholder="CSS 속성을 입력해주세요!" />
                    <div class="start">게임 시작!</div>
                </div>
                <div class="search__info center">
                    <div><i>전체 속성 갯수 : </i><span class="num">0</span></div>
                    <div><i>현재 맞춘 개수 : </i><span class="now">0</span></div>
                </div>
                <div class="search__answers"></div>
                <div class="search__missAnswers"></div>
                <div class="search__list"></div>
                <div class="search__result">
                    <div class="svg__wrap">
                        <svg class="heart" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 612">
                            <path class="heart__path"
                                d="M472.08 81.12c-26.96-27.572-63.022-42.757-101.546-42.757-37.93 0-73.593 14.773-100.421 41.602l-13.846 13.855-13.859-13.859c-26.826-26.826-62.482-41.599-100.401-41.599-37.931 0-73.593 14.773-100.417 41.599-26.82 26.819-41.59 62.478-41.59 100.409s14.77 73.59 41.59 100.409l177.482 177.481c10.253 10.251 23.717 15.377 37.184 15.377 13.464-.001 26.931-5.126 37.181-15.376l176.339-176.323c55.385-55.387 56.419-145.472 2.304-200.818zm-20.897 182.226l-176.338 176.325c-10.251 10.25-26.931 10.25-37.181-.001l-177.483-177.484c-21.854-21.853-33.889-50.909-33.889-81.817s12.035-59.964 33.889-81.818c21.858-21.859 50.918-33.897 81.826-33.897 30.896 0 59.95 12.038 81.809 33.897l13.866 13.866-21.233 21.249c-5.132 5.136-5.128 13.459.007 18.591 2.567 2.565 5.929 3.847 9.292 3.847 3.367 0 6.732-1.286 9.299-3.854l53.658-53.7c21.859-21.859 50.918-33.897 81.826-33.897 31.389 0 60.775 12.376 82.747 34.847 44.096 45.097 43.155 118.597-2.095 163.846zM466.29 174.403c-1.445-23.38-11.35-45.366-27.891-61.909-11.712-11.712-26.245-20.222-42.026-24.615-6.995-1.946-14.242 2.147-16.188 9.142-1.946 6.994 2.147 14.242 9.142 16.188 11.427 3.179 21.967 9.36 30.482 17.875 12.004 12.004 19.192 27.963 20.241 44.938.431 6.971 6.218 12.336 13.109 12.336.272 0 .547-.008.823-.026 7.246-.445 12.756-6.682 12.308-13.929z">
                            </path>
                        </svg>
                        <div class="result"></div>
                        <button class="restart">다시 도전하기</button>
                    </div>
                </div>
                <div class="search__close"></div>
            </div>
            <!-- //search_game -->

        </div>

        <div class="memory__wrap">
            <div class="memory__inner">
                <div class="memory__info">
                    <span>똑같은 그림 맞추기</span>
                    <h1>무엇이 무엇이 똑같을까 ~</h1>
                    <div class="desc show">
                        게임이 시작되면 10개의 퍼즐 조각이 등장합니다!<br>
                        퍼즐 조각은 게임 횟수로 총 10번의 기회 안에<br>
                        오른쪽 카드 그림을 맞추면 성공입니다!<br>
                        그럼 행운을 빌게요 ( •͈ᴗ-)ᓂ-ෆ
                    </div>
                    <div class="times">
                        <span class="pz p1"></span>
                        <span class="pz p2"></span>
                        <span class="pz p3"></span>
                        <span class="pz p4"></span>
                        <span class="pz p5"></span>
                        <span class="pz p6"></span>
                        <span class="pz p7"></span>
                        <span class="pz p8"></span>
                        <span class="pz p9"></span>
                        <span class="pz p10"></span>
                    </div>
                    <div class="start">게임 시작 !</div>
                    <div class="restart">다시 도전 !</div>
                    <!-- <div class="search__result">
                        <button class="restart">다시 도전 !</button>
                    </div> -->
                </div>
                <div class="memory__card">
                    <ul class="cards">
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_1.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_2.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_3.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_4.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_5.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_6.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_7.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_8.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_1.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_2.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_3.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_4.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_5.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_6.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_7.png" alt="">
                            </div>
                        </li>
                        <li>
                            <div class="view front">
                                <img src="../assets/img/memory_card_front.png" alt="">
                            </div>
                            <div class="view back">
                                <img src="../assets/img/memory_card_8.png" alt="">
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="memory__close">

                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script src="../assets/js/gsap.min.js"></script>
    <script src="../assets/js/music.js"></script>
    <script src="../assets/js/searchgame.js"></script>
    <script src="../assets/js/memory.js"></script>
    <script>
        $(".i1").draggable({});
        $(".i2").draggable({});
        $(".i3").draggable({});
        $(".i4").draggable({});
        $(".i5").draggable({});
        $(".i6").draggable({});
        $(".music__wrap").draggable();
        $(".search__wrap").draggable();
        $(".memory__wrap").draggable();

        const icon = document.querySelector(".icon");
        const i1 = document.querySelector(".i1");
        const i2 = document.querySelector(".i2");
        const i3 = document.querySelector(".i3");
        const i4 = document.querySelector(".i4");
        const i5 = document.querySelector(".i5");
        const i6 = document.querySelector(".i6");
        const cursor = document.querySelector(".cursor");
        const musicBox = document.querySelector(".music__wrap");
        const searchGame = document.querySelector(".search__wrap");
        const memoryGame = document.querySelector(".memory__wrap");
        const codeSite = document.querySelector(".icon_iframe");
        const codeExit = document.querySelector(".code_close");

        window.addEventListener("mousemove", e => {
            gsap.to(cursor, { duration: 0, left: e.pageX - 2, top: e.pageY - 5 });
        })

        i1.addEventListener("click", () => {
            if (i1.classList.contains("active")) {
                $(".i1 img").attr("src", "../assets/img/game_folder_icon11.png");
                i1.classList.remove("active");
                musicBox.classList.remove("show");
            } else {
                $(".i1 img").attr("src", "../assets/img/game_folder_over11.png");
                i1.classList.add("active");
                musicBox.classList.add("show");
            }
        })

        i2.addEventListener("click", () => {
            if (i2.classList.contains("active")) {
                $(".i2 img").attr("src", "../assets/img/game_folder_icon12.png");
                i2.classList.remove("active");
                searchGame.classList.remove("show");
            } else {
                $(".i2 img").attr("src", "../assets/img/game_folder_over12.png");
                i2.classList.add("active");
                searchGame.classList.add("show");
            }
        })

        document.querySelector(".search__close").addEventListener("click", () => {
            $(".i2 img").attr("src", "../assets/img/game_folder_icon12.png");
            i2.classList.remove("active");
            searchGame.classList.remove("show");
        })

        i3.addEventListener("click", () => {
            if (i3.classList.contains("active")) {
                $(".i3 img").attr("src", "../assets/img/game_folder_icon12.png");
                i3.classList.remove("active");
                memoryGame.classList.remove("show");
            } else {
                $(".i3 img").attr("src", "../assets/img/game_folder_over12.png");
                i3.classList.add("active");
                memoryGame.classList.add("show");
            }
        })

        document.querySelector(".memory__close").addEventListener("click", () => {
            $(".i3 img").attr("src", "../assets/img/game_folder_icon12.png");
            i3.classList.remove("active");
            memoryGame.classList.remove("show");
        })

        i4.addEventListener("click", () => {
            if (i4.classList.contains("active")) {
                $(".i4 img").attr("src", "../assets/img/game_folder_icon12.png");
                i4.classList.remove("active");
                i4.classList.remove("show");
            } else {
                $(".i4 img").attr("src", "../assets/img/game_folder_over12.png");
                i4.classList.add("active");
                i4.classList.add("show");
            }
        })

        i5.addEventListener("click", () => {
            if (i5.classList.contains("active")) {
                $(".i5 img").attr("src", "../assets/img/game_folder_icon12.png");
                i5.classList.remove("active");
                i5.classList.remove("show");
            } else {
                $(".i5 img").attr("src", "../assets/img/game_folder_over12.png");
                i5.classList.add("active");
                i5.classList.add("show");
            }
        })

        // i6.addEventListener("click", () => {
        //     // $(".i6 img").attr("src", "../assets/img/game_folder_over16.png");
        //     // codeSite.classList.add("show");

        //     if (i6.classList.contains("show")) {
        //         $(".i6 img").attr("src", "../assets/img/game_folder_icon16.png");
        //         codeSite.classList.remove("show");
        //         i6.classList.remove("show");
        //     } else {
        //         $(".i6 img").attr("src", "../assets/img/game_folder_over16.png");
        //         codeSite.classList.add("show");
        //         i6.classList.add("show");
        //     }
        // })

        // codeExit.addEventListener("click", () => {
        //     codeSite.classList.remove("show");
        //     $(".i6 img").attr("src", "../assets/img/game_folder_icon16.png");
        // })

        // 볼륨 조절
        const audio = document.getElementById('main-audio');
        const audioVolume = document.getElementById('volume-control');
        audioVolume.addEventListener("change", function (e) {
            audio.volume = this.value / 10;
        });


        // 외부영역 클릭 시 팝업 닫기
        // $(document).mouseup(function (e){
        // 	var LayerPopup = $(".icon_iframe");
        // 	if(LayerPopup.has(e.target).length === 0){
        // 		LayerPopup.removeClass("show");
        //         $(".i6 img").attr("src", "../assets/img/game_folder_icon16.png");
        // 	}
        // });

        //시계
        function printTime() {
            //지금 시간 넣기기
            const clock = document.querySelector(".time");
            const now = new Date();

            //한자리 숫자 앞에다 0을 넣어주기 위한 변수
            let nowHours = now.getHours();
            let nowMins = now.getMinutes();
            let nowSecs = now.getSeconds();
            if (nowHours > 12) {
                nowHours = `${nowHours - 12}`
            } else if (nowHours >= 0 && nowHours <= 9) {
                nowHours = `0${nowHours}`
            };
            if (nowMins < 10) nowMins = `0${nowMins}`;
            if (nowSecs < 10) nowSecs = `0${nowSecs}`;


            let nowMonth = now.getMonth() + 1;
            let nowDate = now.getDate();
            if (nowMonth < 10) nowMonth = `0${nowMonth}`
            if (nowDate < 10) nowDate = `0${nowDate}`

            //데이터에서 연도만 가져오기
            const nowTime = now.getFullYear() + ". " + nowMonth + ". " + nowDate + "| " + nowHours + "시 " + nowMins + "분 " + nowSecs + "초입니다."

            clock.innerText = nowTime;
            setTimeout("printTime()", 1000);
        }


        function printAgent() {
            const agent = document.querySelector(".agent");
            const os = navigator.userAgent.toLocaleLowerCase();

            agent.innerText = os;

            if (os.indexOf("window") >= 0) {
                agent.innerText = "현재 윈도우를 사용하고 있으며, 화면 크기는 " + screen.width + " * " + screen.height + " 입니다.";
                document.querySelector("body").classList.add("window");
            } else if (os.indexOf("macintosh") >= 0) {
                agent.innerText = "현재 맥을 사용하고 있으며, 화면 크기는 " + screen.width + " * " + screen.height + " 입니다.";
                document.querySelector("body").classList.add("mac");
            } else if (os.indexOf("iphone") >= 0) {
                agent.innerText = "현재 아이폰을 사용하고 있으며, 화면 크기는 " + screen.width + " * " + screen.height + " 입니다.";
                document.querySelector("body").classList.add("iphone");
            } else if (os.indexOf("android") >= 0) {
                agent.innerText = "현재 안드로이폰을 사용하고 있으며, 화면 크기는 " + screen.width + " * " + screen.height + " 입니다.";
                document.querySelector("body").classList.add("android");
            }

        }

        window.onload = function () {
            printTime();
            printAgent();
        }

        //z-index 변화
      const BoxList = document.querySelectorAll(".game__box > div");
      BoxList.forEach((el, index) => {
        console.log(el);
        console.log(index);
        el.style.zIndex = index;
        el.addEventListener("mousedown", function () {
          let maxNum = Math.max(...zIndexArray);
          let maxIndex = zIndexArray.findIndex((arr) => arr === maxNum);
          console.log(index);
          console.log(maxNum, maxIndex);
          zIndexArray = zIndexArray.map((arr) => {
            if (arr > zIndexArray[index]) {
              return arr - 1;
            } else {
              return arr;
            }
          });
          zIndexArray[index] = maxNum;
          array.forEach((el, index) => {
            el.style.zIndex = zIndexArray[index];
          });
        });
      });
      let array = [...BoxList];
      let zIndexArray = array.map((arr) => Number(arr.style.zIndex));

    </script>


</body>

</html>